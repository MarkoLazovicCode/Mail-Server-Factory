{
  "variables": {
    "SERVER": {
      "POSTFIX": {
        "DBHOST": "127.0.0.1",
        "DBNAME": "postfix_service"
      }
    }
  },
  "software": [
    {
      "name": "Mail server stack: Postfix",
      "version": "1.0.0",
      "installationSteps": {
        "Docker": [
          {
            "type": "conditionCheck",
            "value": "postfix_service"
          },
          {
            "type": "command",
            "value": "postfix status && postfix stop && systemctl disable postfix || true"
          },
          {
            "type": "portRequired",
            "value": "25, 465, 587"
          },
          {
            "type": "portCheck",
            "value": "{{DB.DB_PORT}}"
          },
          {
            "type": "deploy",
            "value": "Definitions/Docker/Postfix:{{DOCKER.DOCKER_HOME}}/Postfix"
          },
          {
            "type": "database",
            "value": "{{DOCKER.DOCKER_HOME}}/Postfix/Database"
          },
          {
            "type": "certificate",
            "value": "{{SERVER.HOSTNAME}}"
          },
          {
            "type": "stack",
            "value": "{{DOCKER.DOCKER_HOME}}/Postfix"
          },
          {
            "type": "check",
            "value": "postfix_service"
          }
        ]
      },
      "commentedOut": [
      ]
    }
  ]
}